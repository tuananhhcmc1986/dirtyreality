When user asks to publish a draft, follow these EXACT steps.

--------------------------------------------------
STEP 1 — Detect draft source
--------------------------------------------------

Source format:

drafts/<category>/<filename>.md

Example:

drafts/mes/mes-khong-that-bai-vi-cong-nghe.md


--------------------------------------------------
STEP 2 — Detect category
--------------------------------------------------

Category is folder name directly under drafts:

mes
dms
ba
linh-tinh

Target folder MUST be:

docs/<category>/posts/


Example:

drafts/mes/article.md

→ docs/mes/posts/article.html


--------------------------------------------------
STEP 3 — Generate slug
--------------------------------------------------

Convert filename to slug using rules:

• lowercase
• remove Vietnamese accents
• replace spaces with hyphen
• ascii only
• extension must be .html

Example:

mes không thất bại vì công nghệ.md

→ mes-khong-that-bai-vi-cong-nghe.html


--------------------------------------------------
STEP 4 — Convert markdown to HTML
--------------------------------------------------

Rules:

Each paragraph → <p>...</p>

Blank line → new paragraph

Preserve headings if exist


--------------------------------------------------
STEP 5 — Apply template
--------------------------------------------------

Use template file:

templates/post-template.html

Replace variables:

{{TITLE}}
{{DATE}}
{{CATEGORY}}
{{CONTENT}}


--------------------------------------------------
STEP 6 — Save output file
--------------------------------------------------

Save EXACT location:

docs/<category>/posts/<slug>.html


Example:

docs/mes/posts/mes-khong-that-bai-vi-cong-nghe.html


--------------------------------------------------
STEP 7 — Update category index
--------------------------------------------------

Open file:

docs/<category>/index.html


Insert inside:

<div class="posts">


Add EXACT code:

<div class="post-item">
    <a href="posts/<slug>.html">
        {{TITLE}}
    </a>
</div>

<div class="post-year">
    {{DATE}}
</div>


CRITICAL RULE:

NEVER use:

mes/posts/<slug>.html
dms/posts/<slug>.html

ONLY use:

posts/<slug>.html


--------------------------------------------------
STEP 8 — NEVER modify other folders
--------------------------------------------------

Do NOT modify:

docs/index.html
docs/style.css
other categories


--------------------------------------------------
STEP 9 — DO NOT move draft
--------------------------------------------------

Draft remains in drafts folder


--------------------------------------------------
STEP 10 — Result
--------------------------------------------------

Final working URL MUST be:

/dirtyreality/<category>/posts/<slug>.html

Example:

/dirtyreality/mes/posts/mes-khong-that-bai-vi-cong-nghe.html
